<div class="training-queue-container">
  <h2>ğŸ¯ AI Training Hub</h2>

  <!-- Training Queue Status -->
  <div class="queue-status-card">
    <h3>ğŸ“Š Training Queue Status</h3>

    <div class="status-grid">
      <div class="status-item">
        <div class="status-icon">ğŸ–¼ï¸</div>
        <div class="status-info">
          <div class="status-number">{{ trainingStatus()?.images_waiting || 0 }}</div>
          <div class="status-label">Images Ready</div>
          <div class="status-desc">Annotated images waiting for training</div>
        </div>
      </div>

      <div class="status-item">
        <div class="status-icon">ğŸƒâ€â™‚ï¸</div>
        <div class="status-info">
          <div class="status-number">{{ trainingStatus()?.training_sessions || 0 }}</div>
          <div class="status-label">Training Sessions</div>
          <div class="status-desc">Total training runs completed</div>
        </div>
      </div>
    </div>
  </div>

  <!-- Training Controls -->
  <div class="training-controls-card" *ngIf="trainingStatus()?.ready_for_training">
    <h3>ğŸš€ Start Fine-Tuning</h3>

    <div class="training-params">
      <div class="param-group">
        <label for="epochs">Epochs:</label>
        <input type="number"
               id="epochs"
               min="1"
               max="100"
               [(ngModel)]="epochs"
               class="param-input">
        <span class="param-desc">Training iterations</span>
      </div>

      <div class="param-group">
        <label for="batch-size">Batch Size:</label>
        <input type="number"
               id="batch-size"
               min="1"
               max="64"
               [(ngModel)]="batch_size"
               class="param-input">
        <span class="param-desc">Images per batch</span>
      </div>

      <div class="param-group">
        <label for="val-split">Validation Split:</label>
        <input type="number"
               id="val-split"
               min="0.1"
               max="0.5"
               step="0.1"
               [(ngModel)]="val_split"
               class="param-input">
        <span class="param-desc">Test set ratio</span>
      </div>
    </div>

    <button (click)="startTraining()"
            [disabled]="!canStartTraining()"
            class="start-training-btn">
      <span *ngIf="!isTraining()">ğŸš€ Start Fine-Tuning</span>
      <span *ngIf="isTraining()">â³ Training in Progress...</span>
    </button>

    <div class="training-notice">
      â„¹ï¸ Training runs in the background. Use the training logs to monitor progress.
    </div>
  </div>

  <!-- No Training Data Message -->
  <div class="empty-queue-message" *ngIf="!trainingStatus()?.ready_for_training && trainingStatus()?.images_waiting === 0">
    <div class="empty-icon">ğŸ“­</div>
    <h3>No Images Ready for Training</h3>
    <p>Upload and annotate some images in the "See" section first.</p>
    <a routerLink="/see" class="back-to-annotate">ğŸ·ï¸ Go Annotate Images</a>
  </div>

  <!-- Success/Error Messages -->
  <div class="message-card" *ngIf="hasError()">
    <div class="error-message">
      âŒ {{ trainingError() }}
    </div>
  </div>

  <div class="message-card" *ngIf="hasSuccess()">
    <div class="success-message">
      âœ… {{ trainingSuccess() }}
    </div>
  </div>

  <!-- Quick Actions -->
  <div class="quick-actions">
    <a routerLink="/training-logs" class="action-btn logs-btn">
      ğŸ“ˆ View Training Logs
    </a>
    <button (click)="loadTrainingStatus()" class="action-btn refresh-btn">
      ğŸ”„ Refresh Status
    </button>
    <a href="/" class="action-btn home-btn">
      ğŸ  Back to Home
    </a>
  </div>
</div>
